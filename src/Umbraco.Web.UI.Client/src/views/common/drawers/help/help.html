<div class="umb-drawer-wrapper" ng-controller="Umbraco.Drawers.Help as vm">

    <umb-drawer-header
        title="{{ vm.title }}"
        description="{{ vm.subtitle }}">
    </umb-drawer-header>
    
    <umb-drawer-content>

        <!-- Show in custom help dashboard -->
        <div style="margin-bottom: 25px;">

            <div ng-repeat="tab in vm.customDashboard">
                <div ng-repeat="property in tab.properties">
                    <div>
                        <h3 ng-if="property.caption">{{property.caption}}</h3>
                        <div ng-include="property.path"></div>
                    </div>
                </div>
            </div>

        </div>

        <!--  Help Content here -->
        <div style="margin-bottom: 25px;">

            <h5 style="margin-bottom: 10px; margin-top: 0;">Documentation for: {{ vm.sectionName }}</h5>
                    
            <a class="umb-lesson" ng-repeat="topic in vm.topics track by $index" target="_blank" ng-href="{{topic.url}}?utm_source=core&utm_medium=help&utm_content=link&utm_campaign=tv">
                <span>
                    <span class="umb-lesson__title">
                        <span>{{topic.name}}</span>
                        <span class="umb-lesson__open-icon icon-out"></span>
                    </span>
                    <span class="umb-lesson__content">{{topic.description}}</span>
                </span>
            </a>

            <a class="umb-our-umbraco-badge" target="_blank" href="http://our.umbraco.org?utm_source=core&utm_medium=help&utm_content=link&utm_campaign=our">
                <i class="umb-our-umbraco-badge__icon icon-favorite"></i>
                <div class="umb-our-umbraco-badge__title">Visit our.umbraco.org</div>
                <small>
                    <localize key="defaultdialogs_theFriendliestCommunity">The friendliest community</localize>
                </small>
            </a>

        </div>

        <!--  Umbraco tv content -->
        <div>

            <h5 style="margin-bottom: 10px; margin-top: 0;">Videos for: {{ vm.sectionName }}</h5>
            
            <div style="margin-bottom: 10px;">
                <a class="umb-lesson umb-lesson--tv" ng-repeat="video in vm.videos track by $index" target="_blank" ng-href="{{video.link}}?utm_source=core&utm_medium=help&utm_content=link&utm_campaign=tv">
                    <i class="umb-lesson__icon icon-tv-old"></i>
                    <span class="umb-lesson__title">{{video.title}}</span>
                    <span class="umb-lesson__open-icon icon-out" style="margin-left: auto;"></span>
                </a>
            </div>
            
            <div ng-if="vm.videos.length === 0">No videos found</div>

            <a class="umb-our-umbraco-badge" target="_blank" href="http://umbraco.tv?utm_source=core&utm_medium=help&utm_content=link&utm_campaign=tv">
                <i class="umb-our-umbraco-badge__icon icon-tv-old"></i>
                <div class="umb-our-umbraco-badge__title">Visit umbraco.tv</div>
                <small>
                    <localize key="help_theBestUmbracoVideoTutorials">The best Umbraco video tutorials</localize>
                </small>
            </a>

        </div>

    </umb-drawer-content>

    <umb-drawer-footer>

        <div class="flex justify-end">
            <umb-button
                type="button"
                button-style="link"
                label="Close"
                action="vm.closeDrawer()">
            </umb-button>
        </div>

    </umb-drawer-footer>

</div>